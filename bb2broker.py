from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.support.ui import Select
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.desired_capabilities import DesiredCapabilities
from selenium.common.exceptions import NoSuchElementException
from selenium.common.exceptions import WebDriverException
from selenium.common.exceptions import TimeoutException
import string
import random
import time
def convertTuple(tup):
        # initialize an empty string
    strc = ''
    c=len(tup)
    
    for item in range(5):
        strc=strc+strc.join(tup[item])
        
    return strc
letters = string.ascii_lowercase
#usernameStr = 'poppyharlow78978'
usernameStr = 'hggmn56yt'
Str = ''
options = webdriver.ChromeOptions()
options.add_argument('--load-extension=D:\\autologinbot-master\\UltraSur')
options.add_experimental_option("excludeSwitches", ["enable-automation"])
options.add_experimental_option('useAutomationExtension', False)
mobile_emulation = {"deviceName": "iPhone SE"}
capa = DesiredCapabilities.CHROME
capa["pageLoadStrategy"] = "none"
#options.add_experimental_option("mobileEmulation", mobile_emulation)
count=0
recount=0
#time.sleep(1000)
while(1):
 while(1):  
  numb="0123456789"
 
  url='https://my.b2broker.com/en/profile/security'
  strr=["099"],random.choices(numb,k=1),["-4"],random.choices(numb,k=1),random.choices(numb,k=1),random.choices(numb,k=1)
  
  yo=convertTuple(strr)
  
  
  rt=url.replace("0995-4521",yo)
  
  

  
    
    
  
  

  fnumbers=["923324974902","923358079281","923367956840","923368634399","923368988235","923369522534","923370335881","923370745103","923324974923","923358366138","923367947513","923368634390","923368988202","923369521468","923370335878","923370743891","923324974951","923358718461","923367936495","923368628137","923368988201","923369515080","923370335872","923370741263","923324975036","923359085530","923367935506","923368621483","923368988185","923369512768","923370335870","923370738516","923324975069","923362044735","923367934492","923368619838","923368988168","923369508629","923370335864","923370736987","923324975071","923362504974","923367931638","923368616682","923368988148","923369507859","923370335855","923370733949","923324975199","923362533626","923367927215","923368616068","923368988139","923369504035","923370335854","923370728513","923324975255","923363614860","923367922773","923368614772","923368988134","923369504027","923370335847","923370727554","923324975273","923363615334","923367922701","923368609900","923368988132","923369503623","923370335841","923370726763","923324975285","923363615973","923367922694","923368609643","923368988122","923369498225","923370335840","923370724014","923324975292","923364971453","923367922046","923368608099","923368988104","923369493155","923370334532","923370720213","923324975299","923366738467","923367922041","923368608093","923368988097","923369491255","923370334528","923370719802","923324975317","923302362973","923367922039","923368608074","923368988096","923369487962","923370334527","923370717740","923324975335","923302367094","923367922035","923368607540","923368988093","923369487784","923370334526","923370714751","923324975428","923302387664","923367921546","923368606598","923368988058","923369487210","923370334516","923370711734","923324975429","923302388127","923367920816","923368604798","923368988031","923369483443","923370334513","923370711672","923324975469","923302589975","923367920812","923368604797","923368988029","923369479011","923370334508","923370711570","923324975516","923303453117","923367916878","923368604796","923368988016","923369476427","923370334398","923370711506","923324975583","923303482890","923367915870","923368604794","923368988014","923369471875","923370334386","923370711233","923324975650","923303877823","923367914558","923368604271","923368987996","923369471802","923370334381","923370710554","923324975731","923304020302","923367914495","923368603797","923368987989","923369471614","923370334379","923370698768","923324975738","923304020320","923367911259","923368603207","923368987986","923369471349","923370334378","923370698250","923324975741","923304689699","923367909642","923368602263","923368987985","923369470168","923370334374","923370698249","923324975766","923304766571","923367909509","923368601702","923368987976","923369465875","923370334369","923370698244","923324975860","923304915933","923367909485","923368575532","923368987974","923369464742","923370334328","923370696523","923324974299","923310156215","923368060237","923368670587","923368988458","923369574568","923370338067","923370771209","923324974310","923314385265","923368059750","923368670488","923368988454","923369572855","923370338065","923370771132","923324974328","923314418195","923368059184","923368669489","923368988439","923369571599","923370337850","923370770693","923359115878","923359115083","923359114637","923359114395","923359114352","923359114307","923359112784","923359105219","923359105217","923359104168","923359104135","923324976235","923367904397","923368528280","923368987929","923369428197","923369981951","923370661498","923378069513","923324976265","923367904052","923368526438","923368987928","923369426592","923369973584","923370660930","923378069514","923324976299","923367903741","923368526429","923368987923","923369425344","923369972753","923370660537","923378069515"]


  numbers=[]
 
  usrmn=["drellay","drniris","wysotig","oseom","ghamoasr","eeddie","etsbusr","etcirhear","ocrrsiehchc","opesosm","paedefeun","lsomrp","stien","abubrtawdlia","bhneadendroryn","alceme","lkytuans","ratieer","tianzordib","akkaeclfjopcma","bobbaalthh","emaaohl","alicnoat","yotretw","unegtidar","urleti","kviacndiaa","lagoearn","gaeeta","inunlaisoyl","arctopi","ornaoms","rnyaepe","kahsatfcysrih","ictcaob","dortnoar","leimih","alleerti","kceceih","htgrto","ampcsikall","enttiabir","aatsblufn","imanige","armiet","gerycylo","ndnoula","roars","lascuno","aaegulol","usrasnigexis","rierouf","ogohroruonciny","mastkaes","tonodoidhgaluh","nilcasleloy","nsahluf","alling","rpseraagp","rsaiuemlmu","exntieapshr","nrweerdyab","atidironew","opethhatiyn","uhrkas","annhgsual","atckrwo","isahinompa","ublagviel","ofyedn","husrainot","alteele","apulkol","wrnaliml","moslra","sondisirou","loihzerawln","roobtih","tocsiketss","pmehalgnit","zoossu","trasmbur","catuagnts","espbfuf","rneidoeus","ebhaoc","nanhbpulm","ipntaats","easrettat","yffiach","obsfaemou","eganeeeo","eflaahb","ahjenpl","fnonnea","nefrila","ncreetshcept","edgemn","nocaltandu","aotovcnlaa","lleogkirr","allias","refunkig","yrogcraj","ziavju","reatikn","eirtsndyni","horasdlar","chiaraps","ocidarr","eaanjsa","hramhu","oayrhlke","siteaita","nliaod","retelemr","nchrcru","trhsiohi","uciakro","angmomnda","lalloc","oelesubqu","rleoot","mapsoui","hcibbti","ntgialis","gmrsolrnani","nrigafr","gnftihut","ewlreaeriur","uprdui","hditiapn","anmzit","ryryrwn","slclbuo","lhclacrapseirm","miauiav","vosghu","welrlnai","werli","aroiemaw","ivbkars","hrpriyiimtb","rchautb","ttryeognsroe","gulodfadl","hdcchioser","nnfocinbmua","yczeigsntlio","nmehopbuars","ronrlma","lkeuscawn","reeodo","ngirol","dturgoegc","dielute","roontsu","aslomosa","rcecethr","daotee","useaig","denlefu","lliatse","ctuairb","etrrlada","aatbirly","rltyfba","ctbagaa","anicnens","igsnev","ydtsen","babohm","ppabeiaclg","syhgec","lfleufligeer","otuvo","lbonilig","tlealskgnlia","emvhrntapoulfll","ilkdeso","eerngi","pprometp","agimsu","lcohgs","awnyozrt","murisctei","resieal","mcrhituectiatdc","meeyre","jodregl","nkigicn","tllsansay","rpuoekm","eardurmal","uhttet","siling","okldeyn","rmetman","itrkikect","ahoenaz"]
  while(1):
   
 
    browser = webdriver.Chrome(options=options, desired_capabilities=capa)
    browser.get((url))
    p = browser.current_window_handle

#get first child window
     
    chwd = browser.window_handles
  
    if (len(chwd)>=2):

     browser.switch_to.window(chwd[1])
 
     browser.close()
     browser.switch_to.window(chwd[0])
  
    try:
     phonee = WebDriverWait(browser, 120).until(
      EC.presence_of_element_located((By.CSS_SELECTOR, '#mat-input-0')))
     phonee.send_keys("zahid60@gmail.com")

   
     phonee = WebDriverWait(browser, 120).until(
      EC.presence_of_element_located((By.CSS_SELECTOR, '#mat-input-1')))
     phonee.send_keys("")

     usernap = WebDriverWait(browser, 120).until(
      EC.presence_of_element_located((By.CSS_SELECTOR, 'body > app-root > div > app-external-layout > div > div > main > app-login > app-wizard > app-view > app-auth-card > div.wrapper-auth-card > app-auth-card-content > app-form > form > div:nth-child(2) > button')))

     usernap.click()
     time.sleep(60)
     while(1):
         browser.get((url))
         time.sleep(5)
         while(1):
           try:
              usernap = browser.find_elements(By.XPATH, '//label[@class="mat-slide-toggle-label"]')
              usernap[1].click()
              break
           except:
            pass

         usernap = WebDriverWait(browser, 120).until(
             EC.presence_of_element_located((By.CSS_SELECTOR, '#mat-input-0')))
         usernap.send_keys(fnumbers[recount])
         time.sleep(2)
         usernap = WebDriverWait(browser, 120).until(
             EC.presence_of_element_located((By.CSS_SELECTOR,
                                             'body > app-root > div > app-internal-layout > app-full-layout > mat-sidenav-container > mat-sidenav-content > div > main > div.router-outlet-container.ng-tns-c138-0 > app-profile > app-security > div > section:nth-child(1) > div:nth-child(1) > app-wizard-profile-two-fa > app-wizard > ng-component > app-card > app-card-content > app-form > form > div.card-footer-button-group.ng-star-inserted > button.mat-focus-indicator.button-submit.mat-flat-button.mat-button-base.mat-accent')))

         usernap.click()

         time.sleep(10)
         count = count + 1
         x = (len(fnumbers)) - 1
         if (recount < (x)):
             recount = recount + 1
         else:
             recount = 0
         print(count)

         if (count % 5 == 0):
            browser.close()
            break



    except Exception  as e:
      print(a0)

      browser.close()
    
     
      break
    



     

    
     
     
  
